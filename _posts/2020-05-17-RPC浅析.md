# RPC浅析

## 简介

RPC（Remote Procedure Call），相对IPC（本地进程通信）而言，强调远程进程间调用，但对业务代码屏蔽调用实现细节。

## 原理

远程调用本质上就是业务双方各自数据，通过网络进行跨主机交换，实现对应业务功能。由此可见，通信协议，传输协议是RPC中核心要素之一。

数据从调用方传递到被调用方时，被调用方需要能解析出对应端点，进而进行相应路由处理，返回响应。

#### 通信协议

##### 为什么需要通信协议

通信协议就是一种计算机间沟通交流的语言，通信双方基于通信协议进行信息交换，否则通信双方无法识别传递的信息。

##### 通信协议选择的关注点

- 可靠性
- 通信效率
- 安全性
- 资源占用
- 私密性
- 开发成本
- ...

#### 序列化协议

##### 为什么需要序列化协议

远程通信，数据须以二进制形式传输进而达成信息交换，序列化恰是将数据转换为二进制流，满足远程通信数据传输场景。

##### 序列化协议选择的关注点

- 传输效率
- 序列化速度
- 跨平台多语言

## 价值

RPC对远程通信双方涉及网络部分进行了封装，使得业务开发人员聚焦业务逻辑本身，对上层屏蔽了可能涉及到的序列化/反序列化、失败重连、熔断机制、负载均衡等功能。

## 扩展

Feign是一个声明式的HTTP客户端，Feign通过调用服务注册中心接口获取服务对应注册的IP，端口信息，通过RestTemplate发起请求，通信协议选择HTTP，序列化协议可以是JSON，也可以是ProtocolBuf。

##### Netty通信框架

##### ProtocolBuf序列化协议
